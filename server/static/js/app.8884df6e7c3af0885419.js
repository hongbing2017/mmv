webpackJsonp([1],{"+BTi":function(t,e){},"+Rdb":function(t,e){},"/I4U":function(t,e){},"/jMY":function(t,e){},"2rGO":function(t,e){},"3f40":function(t,e){},"4qOc":function(t,e){},"8jhb":function(t,e){},BNJR:function(t,e){},Dte2:function(t,e){},FGQs:function(t,e,n){"use strict";(function(t){function o(e){return t.from(e).length}var s=n("Xxa5"),a=n.n(s),r=n("exGp"),i=n.n(r),c=n("rQBB"),u=null;e.a={name:"bk",components:{},data:function(){return{bUploadDlg:!1,downloadUrl:"",content:"",password:"",bShowCaptcha:!1,authCode:"",qrCode:"",uploadSpeed:0,uploadProgress:0,bShowCode:!1}},methods:{onEncryp:function(){var t=this;return i()(a.a.mark(function e(){var n,s,r,i,l;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.password){e.next=3;break}return t.$msgbox({title:"错误",message:"请输入加密密码"}),e.abrupt("return");case 3:if(0!==(n=o(t.content))){e.next=7;break}return t.$msgbox({title:"请先输入留言"}),e.abrupt("return");case 7:if(!(n>10485760)){e.next=10;break}return t.$msgbox({title:"留言大小超过5M，请减少内容"}),e.abrupt("return");case 10:return s=c.Encrypted(t.password,t.content),console.log("加密结果：",s),console.log("解密测试：",c.Decrypted(t.password,s)),r=c.SHA1(s),i=t.$loading({lock:!0,text:"开始请求人机验证",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),e.next=17,c.requestAuth(r);case 17:if(l=e.sent,i.close(),l){e.next=22;break}return t.$msgbox({title:"提示",message:"请求人机验证失败，请稍后重试"}),e.abrupt("return");case 22:return t.authCode=l.md5,t.qrCode=l.qrcode,t.bShowCaptcha=!0,console.log("开始等待扫码验证"),e.next=28,c.waitAuth(t.authCode);case 28:if(l=e.sent,console.log("扫码验证结果：",l),1!=l.code){e.next=35;break}return t.$msgbox({title:"提示",message:"人机验证二维码超时，请重试"}),t.qrcode="",t.bShowCaptcha=!1,e.abrupt("return");case 35:if(t.bShowCaptcha=!1,t.qrCode="",0==l.code&&1==l.result){e.next=42;break}return t.$msgbox({title:"提示",message:"人机验证失败或超时，请稍后重试"}),t.qrcode="",t.bShowCaptcha=!1,e.abrupt("return");case 42:return l=JSON.parse(l.data),console.log("授权结果：",l),c.InitCos(l),console.log("上传"),e.next=48,c.upload(r,s,function(e){console.log("上传taskID:",e),u=e,t.bUploadDlg=!0},function(){t.uploadProgress=parseInt(1e4*info.percent)/100,t.uploadSpeed=parseInt(info.speed/1024/1024*100)/100,console.log("progress:",info)});case 48:if(!(l=e.sent)){e.next=59;break}return t.uploadProgress=100,i=t.$loading({lock:!0,text:"正在提交...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),e.next=54,c.submit(r);case 54:l=e.sent,i.close(),l?(console.log("提交结果：",l),t.downloadUrl=c.getHost()+"/getfile?id="+r,t.content="",t.password=""):(t.bUploadDlg=!1,t.$msgbox({title:"提示",message:"上传失败，请稍后重试"})),e.next=60;break;case 59:t.$msgbox({title:"提示",message:"上传失败，请稍后重试"});case 60:case"end":return e.stop()}},e,t)}))()},onDecryp:function(){if(!this.content)return void this.$msgbox({title:"错误",message:"请先粘贴下载的加密信息"});if(!this.password)return void this.$msgbox({title:"错误",message:"请输入解密密码"});var t=this.content,e=t.indexOf("<p>")+3,n=t.lastIndexOf("</p>"),o=t.substring(e,n);o=o.replace(/^\s+|\s+$/g,"");var s=c.Decrypted(this.password,o);this.content=s,this.password=""},onCancleUpload:function(){if(this.bUploadDlg=!1,u){var t=c.GetCosInstance();t&&t.pauseTask(u)}},onShowCode:function(){this.bShowCode=!this.bShowCode},onCopyUrl:function(){var t=this;if(!navigator.clipboard)return void this.$msgbox({title:"无法拷贝链接",type:"error",message:"请自行复制链接"});navigator.clipboard.writeText(this.downloadUrl).then(function(){t.$msgbox({title:"已经拷贝到剪贴板",type:"success"})}).catch(function(e){console.log("err:",e),t.$msgbox({title:"无法拷贝到剪贴板",type:"error"})})},onUploadOK:function(){this.bUploadDlg=!1}}}}).call(e,n("EuP9").Buffer)},GXEp:function(t,e){},"IUI+":function(t,e){},M93x:function(t,e,n){"use strict";function o(t){n("/jMY")}var s=n("xJD8"),a=n("Xcpg"),r=n("VU/8"),i=o,c=r(s.a,a.a,!1,i,null,null);e.a=c.exports},NHnr:function(t,e,n){"use strict";function o(){var t=document.documentElement.clientWidth||document.body.clientWidth,e=document.getElementsByTagName("html")[0];e.style.fontSize=t/10+"px",parseInt(e.style.fontSize)>100?e.style.fontSize="100px":parseInt(e.style.fontSize)<24&&(e.style.fontSize="24px"),console.log("html fontsize:",e.style.fontSize)}Object.defineProperty(e,"__esModule",{value:!0});var s=n("cwe7"),a=(n.n(s),n("+BTi")),r=(n.n(a),n("2X9z")),i=n.n(r),c=n("/I4U"),u=(n.n(c),n("yg6k")),l=n.n(u),d=n("oq7i"),p=(n.n(d),n("+TD8")),f=n.n(p),g=n("2rGO"),h=(n.n(g),n("nu7/")),v=n.n(h),m=n("IUI+"),y=(n.n(m),n("h2ff")),b=n.n(y),w=n("uKbn"),S=(n.n(w),n("GegP")),x=n.n(S),k=n("jZDA"),C=(n.n(k),n("91Nw")),_=n.n(C),T=n("d7TW"),U=(n.n(T),n("ajQY")),q=n.n(U),E=n("+Rdb"),D=(n.n(E),n("Mezo")),I=n.n(D),J=n("qunJ"),$=(n.n(J),n("vqwl")),z=n.n($),O=n("isgN"),A=(n.n(O),n("tLa+")),R=n.n(A),B=n("Dte2"),N=(n.n(B),n("q4le")),P=n.n(N),H=n("isE6"),M=(n.n(H),n("LR6y")),K=n.n(M),X=n("GXEp"),j=(n.n(X),n("mtrD")),G=n.n(j),F=n("BNJR"),Q=(n.n(F),n("fDPO")),Y=n.n(Q),L=n("8jhb"),W=(n.n(L),n("RDoK")),Z=n.n(W),V=n("Zki6"),tt=(n.n(V),n("0kY3")),et=n.n(tt),nt=n("X+ky"),ot=(n.n(nt),n("HJMx")),st=n.n(ot),at=n("Yq4J"),rt=(n.n(at),n("qubY")),it=n.n(rt),ct=n("/5sW"),ut=n("M93x"),lt=n("YaEn"),dt=n("G0J2"),pt=n.n(dt),ft=n("3f40"),gt=(n.n(ft),n("4qOc")),ht=(n.n(gt),n("tvR6"));n.n(ht);ct.default.use(it.a),ct.default.use(st.a),ct.default.use(et.a),ct.default.use(Z.a),ct.default.use(Y.a),ct.default.use(G.a),ct.default.use(K.a),ct.default.use(P.a),ct.default.use(R.a),ct.default.use(z.a),ct.default.use(I.a),ct.default.use(q.a),ct.default.use(_.a),ct.default.use(x.a),ct.default.use(b.a),ct.default.use(v.a.directive),ct.default.prototype.$loading=v.a.service,ct.default.prototype.$msgbox=f.a,ct.default.prototype.$alert=f.a.alert,ct.default.prototype.$confirm=f.a.confirm,ct.default.prototype.$prompt=f.a.prompt,ct.default.prototype.$notify=l.a,ct.default.prototype.$message=i.a,window.baseUrl="http://myfile.link",ct.default.use(pt.a,{theme:"snow"}),window.onresize=o,o(),console.log("NODE_ENV:%s baseUrl:%s","production",window.baseUrl),ct.default.config.productionTip=!1,new ct.default({el:"#app",router:lt.a,render:function(t){return t(ut.a)}})},U2Fb:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-row",[n("el-col",{attrs:{xs:24,sm:24,md:{span:16,offset:4},lg:{span:14,offset:5},xl:{span:12,offset:6}}},[n("el-container",{attrs:{id:"bk"}},[n("el-header",[n("img",{staticClass:"logo",attrs:{src:"static/logo.png"}}),t._v(" "),n("div",{staticClass:"slogan"},[t._v("提供私人富文本信息加密存储与回取服务")])]),t._v(" "),n("el-main",[n("div",{staticClass:"main"},[n("quill-editor",{ref:"editor",staticClass:"editor",attrs:{id:"editor",options:t.editorOption,disabled:t.step>1},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),t._v(" "),n("div",{staticClass:"tip"},[n("div",{staticStyle:{"font-weight":"bold",padding:"10px 0px"}},[t._v("使用说明：")]),t._v(" "),n("ul",[n("li",[t._v("网站会给你一个访问链接，可用于向第三方应用提供内容 ")]),t._v(" "),n("li",[t._v("网站只存储加密后的信息，请自行记住密码，自行解密")]),t._v(" "),n("li",[t._v("或者把下载的内容粘贴在这里帮你解密")]),t._v(" "),n("li",[t._v("加密算法采用AES，使用crypto-js库，"),n("el-button",{staticStyle:{"font-size":"inherit"},attrs:{type:"text"},on:{click:t.onShowCode}},[t._v("参考代码")]),t._v(" "),t.bShowCode?n("pre",[t._v(" \n                            "),n("code",[t._v("\n// 加密\nfunction aesEncrypt(data, key) {\n    var encrypted = CryptoJS.AES.encrypt(data, key, {\n        mode: CryptoJS.mode.ECB,\n        padding: CryptoJS.pad.Pkcs7\n    });\n    return encrypted.toString();\n}\n\n// 解密\nfunction aesDecrypt(ciphertext, key) {\n    var decrypted = CryptoJS.AES.decrypt(ciphertext, key, {\n        mode: CryptoJS.mode.ECB,\n        padding: CryptoJS.pad.Pkcs7\n    });\n    return decrypted.toString(CryptoJS.enc.Utf8);\n}\n                                ")]),t._v("\n                                ")]):t._e()],1),t._v(" "),n("li",[t._v("信息大小限制为10M，超过无法上传")]),t._v(" "),n("li",[t._v("信息免费保留24小时或免费下载2次，超限删除")]),t._v(" "),n("li",[t._v("如果需要更多的保留时间和下载次数请联系QQ：642128162")])])]),t._v(" "),t.bShowCaptcha?n("div",{staticClass:"captchaview",attrs:{title:"人机验证"}},[n("img",{staticStyle:{width:"144px",height:"144px",margin:"0 auto"},attrs:{src:t.qrCode,alt:"QR Code"}}),t._v(" "),n("p",{staticStyle:{color:"#333","font-size":"14px","text-align":"center",padding:"10px"}},[t._v("\n                            请用微信扫码证明您是真实用户, 如果您用手机使用本网站，请截图后再用微信扫码")])]):n("div",{staticClass:"tool"},[n("el-input",{staticClass:"input",attrs:{placeholder:"请输入密码",placeholderStyle:"color:#999;"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),n("el-button",{staticClass:"btn",attrs:{type:"primary",size:"small"},on:{click:t.onEncryp}},[t._v("加密存储")]),t._v(" "),n("el-button",{staticClass:"btn",attrs:{type:"primary",size:"small"},on:{click:t.onDecryp}},[t._v("解密")])],1)],1)]),t._v(" "),n("el-footer",{staticClass:"footer"},[n("el-link",{attrs:{type:"primary",href:"https://beian.miit.gov.cn/"}},[t._v("蜀ICP备2021013463号-2")])],1)],1),t._v(" "),t.bUploadDlg?n("div",{staticClass:"uploadprogress"},[n("div",{staticClass:"uploadcenter"},[100===t.uploadProgress?n("el-progress",{staticClass:"progressCircle",attrs:{type:"circle","stroke-width":12,width:140,percentage:t.uploadProgress,status:"success"}}):t._e(),t._v(" "),n("p",{staticClass:"uploadtip"},[t._v("上传完成，请记住你的下载链接:")]),t._v(" "),n("el-link",{staticClass:"downUrl",attrs:{href:t.downloadUrl}},[t._v(t._s(t.downloadUrl))]),t._v(" "),n("div",{staticClass:"toolbar"},[n("el-button",{staticClass:"uploadbtn",attrs:{type:"success",size:"small"},on:{click:t.onCopyUrl}},[t._v("复制链接")]),t._v(" "),n("el-button",{staticClass:"uploadbtn",attrs:{type:"success",size:"small"},on:{click:t.onUploadOK}},[t._v("关闭")])],1)],1)]):t._e()],1)],1)},s=[],a={render:o,staticRenderFns:s};e.a=a},"X+ky":function(t,e){},Xcpg:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},s=[],a={render:o,staticRenderFns:s};e.a=a},YaEn:function(t,e,n){"use strict";var o=n("/5sW"),s=n("/ocq"),a=n("wUZA");o.default.use(s.a),e.a=new s.a({routes:[{path:"/",name:"Home",component:a.a}]})},Yq4J:function(t,e){},Zki6:function(t,e){},a4Os:function(t,e){},cwe7:function(t,e){},d7TW:function(t,e){},isE6:function(t,e){},isgN:function(t,e){},jZDA:function(t,e){},oq7i:function(t,e){},qunJ:function(t,e){},rQBB:function(t,e,n){"use strict";function o(t,e,n,o){return new x.a(function(s,a){var r=q+"/getpassword?id="+t+"&code="+e+"&date="+n+"&text="+o;console.log("url:",r);var i=new XMLHttpRequest;i.open("get",r),i.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var t=JSON.parse(this.response);if(!t||0==t.code)return console.log("获取官方密码错误：",t.message),void s("验证码错误");t=t.data;var e=t.credentials;e||(console.error("credentials invalid:\n"+w()(t,null,2)),s(null)),E=new C({getAuthorization:function(n,o){o({TmpSecretId:e.tmpSecretId,TmpSecretKey:e.tmpSecretKey,SecurityToken:e.sessionToken,StartTime:t.startTime,ExpiredTime:t.expiredTime})}}),s(t.password)}},i.send()})}function s(){return q}function a(t){var e=q+"/requestAuth?id="+t;return new x.a(function(t,n){var o=new XMLHttpRequest;o.open("get",e),o.send(),o.onreadystatechange=function(){if(4===this.readyState)if(200===this.status){var e=JSON.parse(this.response);t(0==e.code?e.data:null)}else console.log("getcaptcha err:",this.response),t(null)}})}function r(t){var e=q+"/captcharesult?token="+t;return new x.a(function(n){var o=new XMLHttpRequest;o.open("get",e),o.send(),o.onreadystatechange=y()(v.a.mark(function e(){var o;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(4!==this.readyState){e.next=16;break}if(502!=this.status&&400!=this.status){e.next=5;break}return e.abrupt("return",r(t));case 5:if(200!==this.status){e.next=10;break}o=JSON.parse(this.response),n(o),e.next=16;break;case 10:return console.log("captcharesult err:",this.response),e.next=13,new x.a(function(t){return setTimeout(t,1e3)});case 13:return e.next=15,r(t);case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}},e,this)}))})}function i(t){E=new C({getAuthorization:function(e,n){n({TmpSecretId:t.credentials.tmpSecretId,TmpSecretKey:t.credentials.tmpSecretKey,SecurityToken:t.credentials.sessionToken,StartTime:t.startTime,ExpiredTime:t.expiredTime})}})}function c(){var t=q+"/sts?memoID=12121";E=new C({getAuthorization:function(e,n){var o=new XMLHttpRequest;o.open("get",t),o.send(),o.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var t=JSON.parse(this.response),e=t.credentials;if(!e)return void console.error("credentials invalid");n({TmpSecretId:e.tmpSecretId,TmpSecretKey:e.tmpSecretKey,SecurityToken:e.sessionToken,StartTime:t.startTime,ExpiredTime:t.expiredTime})}}}}),E.putObject({Bucket:"myfile-1308181812",Region:"ap-guangzhou",Key:"12121.txt",Body:"this is test",SliceSize:5242880,onTaskReady:function(t){console.log("上传taskID:",t)},onFileFinish:function(t,e,n){console.log(n.Key+"上传"+(t?"失败":"完成"))}},function(t,e){console.log(t||e)})}function u(){return E}function l(t,e,n,o){return new x.a(function(s){E.putObject({Bucket:"myfilelink-1308181812",Region:"ap-guangzhou",Key:t+".txt",Body:e,SliceSize:5242880,onTaskReady:n,onProgress:o},function(){var t=y()(v.a.mark(function t(e,n){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:console.log("上传结果:",e||n),s(e?!1:n);case 2:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}())})}function d(t){var e=q+"/submit?id="+t;return new x.a(function(t){var n=new XMLHttpRequest;n.open("get",e),n.send(),n.onreadystatechange=function(){if(4===this.readyState){if(200===this.status){var e=JSON.parse(this.response);t(0==e.code?null:!0)}t(null)}}})}function p(t,e){return k.AES.encrypt(e,t,{mode:k.mode.ECB,padding:k.pad.Pkcs7}).toString()}function f(t,e){return k.AES.decrypt(e,t,{mode:k.mode.ECB,padding:k.pad.Pkcs7}).toString(k.enc.Utf8)}function g(t){return k.SHA1(t).toString()}Object.defineProperty(e,"__esModule",{value:!0}),e.queryVerify=o,e.getHost=s,e.requestAuth=a,e.waitAuth=r,e.InitCos=i,e.testCos=c,e.GetCosInstance=u,e.upload=l,e.submit=d,e.Encrypted=p,e.Decrypted=f,e.SHA1=g;var h=n("Xxa5"),v=n.n(h),m=n("exGp"),y=n.n(m),b=n("mvHQ"),w=n.n(b),S=n("//Fk"),x=n.n(S),k=n("Av7u"),C=n("6qJD"),_=window.location.protocol,T=window.location.hostname,U=window.location.port,q=_+"//"+T+(U?":"+U:"");console.log("_host:",q);var E=null},tvR6:function(t,e){},uKbn:function(t,e){},wUZA:function(t,e,n){"use strict";function o(t){n("a4Os")}var s=n("FGQs"),a=n("U2Fb"),r=n("VU/8"),i=o,c=r(s.a,a.a,!1,i,null,null);e.a=c.exports},xJD8:function(t,e,n){"use strict";e.a={name:"app"}}},["NHnr"]);
//# sourceMappingURL=app.8884df6e7c3af0885419.js.map